# NextCloud Configuration Environment Variables
# This file contains environment variables for NextCloud configuration

# Database Configuration
MYSQL_DATABASE=nextcloud
MYSQL_USER=nextcloud
MYSQL_PASSWORD={{ cloud_services.nextcloud.database_password }}
MYSQL_HOST=nextcloud-db
MYSQL_ROOT_PASSWORD={{ cloud_services.nextcloud.root_password }}

# Redis Configuration
REDIS_HOST=nextcloud-redis
REDIS_HOST_PORT=6379
REDIS_PASSWORD={{ cloud_services.nextcloud.redis_password }}

# Admin User Configuration
NEXTCLOUD_ADMIN_USER={{ cloud_services.nextcloud.admin_user }}
NEXTCLOUD_ADMIN_PASSWORD={{ cloud_services.nextcloud.admin_password }}

# URL Configuration
NEXTCLOUD_TRUSTED_DOMAINS=nextcloud.home nextcloud.terrac.com {{ ansible_default_ipv4.address }}
OVERWRITEPROTOCOL=http
OVERWRITEHOST=nextcloud.home
OVERWRITEWEBROOT=/
OVERWRITECLIURL=http://nextcloud.home/

# PHP Configuration
PHP_MEMORY_LIMIT=2G
PHP_UPLOAD_LIMIT=10G
PHP_MAX_FILE_UPLOADS=100

# Timezone Configuration
TZ=America/Los_Angeles

# Performance Configuration
APACHE_DISABLE_REWRITE_IP=1
TRUSTED_PROXIES={{ ansible_default_ipv4.address }}

# Security Configuration
NEXTCLOUD_INIT_HTACCESS=true

# Logging Configuration
NEXTCLOUD_LOGGING=true
NEXTCLOUD_LOGFILE=/var/log/nextcloud.log
NEXTCLOUD_LOGLEVEL=2
